(this.webpackJsonpwolf=this.webpackJsonpwolf||[]).push([[0],[,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(3),c=n.n(s),o=(n(9),n(1)),i=(n(10),n(11),{background:"#eeeeee",textColor:"black",hyperlinkColor:"grey"}),l={background:"#222222",textColor:"white",hyperlinkColor:"#09d3ac"},u=a.a.createContext(i);function d(e){var t=Object(r.useContext)(u),n=Object(r.useState)("white"),s=Object(o.a)(n,2),c=s[0],i=s[1],l=e.state.answerSelectedForBlock===e.answerId;return Object(r.useEffect)((function(){i(l?"grey":"white")}),[e.answerId,e.state.answerSelectedForBlock]),Object(r.useEffect)((function(){l?e.setUserAnswers((function(t){return t.add(e.answerId),new Set(t)})):e.setUserAnswers((function(t){return t.delete(e.answerId),new Set(t)}))}),[e.answerId,e.state.answerSelectedForBlock]),a.a.createElement("button",{onClick:function(){e.dispatch({type:"questionSelected",answerId:e.answerId})},style:{color:t.textColor,backgroundColor:c,display:"block"}},e.answer)}function w(e){return{answerSelectedForBlock:e}}function f(e,t){switch(t.type){case"questionSelected":return{answerSelectedForBlock:t.answerId};case"reset":return w(t.answerId);default:throw new Error}}var m=function(e){var t=Object(r.useReducer)(f,0,w),n=Object(o.a)(t,2),s=n[0],c=n[1];return Object(r.useEffect)((function(){c({type:"reset",answerId:0})}),[e.question,e.answers,0]),a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{className:"question-block"}," ",e.question.question),e.answers.map((function(t){return a.a.createElement(d,{key:t.id,answer:t.answer,answerId:t.id,state:s,dispatch:c,userAnswers:e.userAnswers,setUserAnswers:e.setUserAnswers})})))};var b=function(e){var t=Object(r.useState)(Array.from(e.questionsAnswers)),n=Object(o.a)(t,2),s=n[0],c=n[1];return Object(r.useEffect)((function(){c(Array.from(e.questionsAnswers))}),[e.questionsAnswers]),a.a.createElement(a.a.Fragment,null,s.map((function(t){return a.a.createElement("div",{key:t[0].id},a.a.createElement(m,{question:t[0],answers:t[1],userAnswers:e.userAnswers,setUserAnswers:e.setUserAnswers}))})))},v=function(e,t){var n=new Map;return e.forEach((function(e){var r=t.get(e),a=null===r||void 0===r?void 0:r.id;n.has(a)||n.set(a,0);var s=n.get(a);n.set(a,s+1)})),Array.from(n).map((function(e){return{wolfId:e[0],times:e[1]}}))},E=v;n(12);function h(e){for(var t=[],n=0;n<e.times;++n)t.push(a.a.createElement("span",{key:n,role:"img","aria-label":"wolf-times"},e.wolf.face));return a.a.createElement("div",null,t)}var p=function(e){var t=Object(r.useState)([]),n=Object(o.a)(t,2),s=n[0],c=n[1];return Object(r.useEffect)((function(){var t=E(e.userAnswers,e.answersWolves);c(t)}),[e.answersWolves,e.userAnswers]),a.a.createElement("div",null,a.a.createElement("h4",{className:"tally"},"Tally"),s.map((function(t){var n=e.allWolves.filter((function(e){return e.id===t.wolfId}))[0];return a.a.createElement(h,{key:n.id,wolf:n,times:t.times})})))};n(13);var j=function(e){var t=Object(r.useContext)(u);return a.a.createElement("div",null,a.a.createElement("h4",{className:"wolf-result"},"Wolf Result"),a.a.createElement("span",{role:"img","aria-label":"wolf-times"},e.wolf.face),a.a.createElement("p",{style:{color:t.textColor}},e.wolf.name))};n(14);var O=function(){var e=Object(r.useContext)(u);return a.a.createElement("div",null,a.a.createElement("h4",{className:"donate"},"Donate"),a.a.createElement("a",{href:"https://wolf.org/support/donate-options/",style:{color:e.hyperlinkColor}},"Donate to save the wolves"))};n(15);var y=function(e){var t=function(t){"Day"===t.currentTarget.name?e.setTheme(i):"Night"===t.currentTarget.name&&e.setTheme(l)};return a.a.createElement("div",null,a.a.createElement("h4",{className:"header"},"Header"),a.a.createElement("button",{name:"Day",onClick:t},a.a.createElement("span",{role:"img","aria-label":"Day"},"\u2600\ufe0f")),a.a.createElement("button",{name:"Night",onClick:t},a.a.createElement("span",{role:"img","aria-label":"Day"},"\ud83c\udf18")),a.a.createElement("button",{onClick:e.resetButtonClick},"Reset"))},A=function(e,t){for(var n=new Set;n.size<t;){var r=Math.round(Math.random()*e.length-1);e[r]&&n.add(e[r])}return n},k=[{id:1,question:"aaa?"},{id:2,question:"bbb?"},{id:3,question:"ccc?"},{id:4,question:"ddd?"}],S=[{id:1,answer:"aaa"},{id:2,answer:"bbb"},{id:3,answer:"ccc"},{id:4,answer:"ddd"},{id:5,answer:"aaa2"},{id:6,answer:"bbb2"},{id:7,answer:"ccc2"},{id:8,answer:"ddd2"},{id:9,answer:"aaa3"},{id:10,answer:"bbb3"},{id:11,answer:"ccc3"},{id:12,answer:"ddd3"},{id:13,answer:"aaa4"},{id:14,answer:"bbb4"},{id:15,answer:"ccc4"},{id:16,answer:"ddd4"},{id:17,answer:"aaa5"},{id:18,answer:"bbb5"},{id:19,answer:"ccc5"},{id:20,answer:"ddd5"},{id:21,answer:"aaa6"},{id:22,answer:"bbb6"},{id:23,answer:"ccc6"},{id:24,answer:"ddd6"},{id:25,answer:"aaa7"},{id:26,answer:"bbb7"},{id:27,answer:"ccc7"},{id:28,answer:"ddd7"},{id:29,answer:"aaa8"},{id:30,answer:"bbb8"},{id:31,answer:"ccc8"},{id:32,answer:"ddd8"}],g=[{id:1,name:"Mexican wolf",face:"\ud83d\udc3a"},{id:2,name:"Artic Wolf",face:"\ud83e\udd8a"},{id:3,name:"Japanese wolf",face:"\ud83d\udc31"},{id:4,name:"Iberian Wolf",face:"\ud83d\udc3b"}],C=new Map;C.set(1,[S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7]]),C.set(2,[S[8],S[9],S[10],S[11],S[12],S[13],S[14],S[15]]),C.set(3,[S[16],S[17],S[18],S[19],S[20],S[21],S[22],S[23]]),C.set(4,[S[24],S[25],S[26],S[27],S[28],S[29],S[30],S[31]]);var W=function(){var e=A(k.map((function(e){return e.id})),4),t=k.filter((function(t){return e.has(t.id)})),n=new Map;return t.forEach((function(e){var t=C.get(e.id);if(t){var r=A(t.map((function(e){return e.id})),4);n.set(e,S.filter((function(e){return r.has(e.id)})))}})),n};function I(){var e=Object(r.useMemo)((function(){return function(){var e=new Map;return S.forEach((function(t){var n=t.id,r=A(g.map((function(e){return e.id})),1),a=g.filter((function(e){return e.id===function(e){return e.values().next().value}(r)}))[0];e.set(n,a)})),e}()}),[]),t=Object(r.useMemo)((function(){return g}),[]),n=Object(r.useState)(W()),a=Object(o.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)(new Set),l=Object(o.a)(i,2),u=l[0],d=l[1],w=Object(r.useState)(t[0]),f=Object(o.a)(w,2),m=f[0],b=f[1],v=Object(r.useState)(!1),E=Object(o.a)(v,2),h=E[0],p=E[1],j=Object(r.useState)(!1),O=Object(o.a)(j,2);return{sessionQuestionsAnswers:s,setSessionQuestionsAnswers:c,answersWolves:e,allWolves:t,userAnswers:u,setUserAnswers:d,wolfResult:m,setWolfResult:b,showWolfResult:h,setShowWolfResult:p,showTally:O[0],setShowTally:O[1]}}var q=function(){var e=I(),t=e.sessionQuestionsAnswers,n=e.setSessionQuestionsAnswers,s=e.answersWolves,c=e.allWolves,l=e.userAnswers,d=e.setUserAnswers,w=e.wolfResult,f=e.setWolfResult,m=e.showWolfResult,E=e.setShowWolfResult,h=e.showTally,A=e.setShowTally,k=Object(r.useState)(i),S=Object(o.a)(k,2),g=S[0],C=S[1];return Object(r.useEffect)((function(){t.size===l.size&&(f(function(e,t,n){var r=v(e,t).reduce((function(e,t){return t.times>=e.times?t:e}));return n.filter((function(e){return e.id===r.wolfId}))[0]}(l,s,c)),E(!0))}),[c,s,t.size,E,f,l,l.size]),Object(r.useEffect)((function(){l.size>0&&A(!0)}),[A,l]),a.a.createElement(u.Provider,{value:g},a.a.createElement("div",{className:"grid",style:{background:g.background}},a.a.createElement(y,{setTheme:C,resetButtonClick:function(){n(W()),d(new Set),E(!1),f(c[0]),A(!1)}}),a.a.createElement(b,{questionsAnswers:t,userAnswers:l,setUserAnswers:d}),h&&a.a.createElement(p,{userAnswers:l,answersWolves:s,allWolves:c}),m&&a.a.createElement(j,{wolf:w}),a.a.createElement(O,null)))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(q,null)),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.b3b7c931.chunk.js.map